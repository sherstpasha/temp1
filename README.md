## Описание

Проект Telegram-бота на Python для личного учёта доходов и расходов.
Бот автоматически создаёт Google Таблицу при первом запуске и сохраняет в неё записи.

---

## Требования

* Python 3.10+
* Google Cloud аккаунт
* Активированные Google Sheets API и Google Drive API
* Telegram Bot Token (от @BotFather)

---

## Установка

```bash
pip install -r requirements.txt
```

---

## Настройка

### 1. Получение `service_account.json`

#### 1.1 Создание проекта в Google Cloud

1. Перейдите на [https://console.cloud.google.com/](https://console.cloud.google.com/)
2. Нажмите «Выбрать проект» → «Создать проект»
3. Укажите имя проекта, например: `FinanceBot`
4. Сохраните и выберите созданный проект

#### 1.2 Включение API

1. Перейдите в: **API и сервисы** → **Библиотека**
2. Включите:

   * **Google Sheets API**
   * **Google Drive API**

#### 1.3 Создание сервисного аккаунта

1. Перейдите в: **IAM и администрирование** → **Сервисные аккаунты**
2. Нажмите «Создать сервисный аккаунт»
3. Укажите имя, например: `finance-bot`
4. Нажмите «Создать и продолжить»
5. Укажите роль: **Редактор (Editor)**
6. Завершите создание аккаунта

#### 1.4 Получение JSON-ключа

1. Перейдите в созданный аккаунт
2. Откройте вкладку **Ключи**
3. Нажмите «Добавить ключ» → «Создать новый ключ» → **JSON**
4. Скачайте файл и поместите его в корень проекта как `service_account.json`

---

### 2. Настройка `.env`

Создайте файл `.env` в корне проекта:

```env
BOT_TOKEN=ваш_токен_бота_от_BotFather
GOOGLE_CREDENTIALS=service_account.json
OWNER_EMAIL=your-email@gmail.com  # адрес, на который будет дан доступ к таблице
```

---

### 3. Запуск

```bash
python bot.py
```

Бот автоматически:

* создаст Google Таблицу,
* добавит к ней доступ на указанный email,
* пришлёт ссылку на таблицу в Telegram.

---

## Примечания

* Таблица создаётся **автоматически**, вручную ничего создавать не нужно.
* Google Drive API необходим для создания таблицы и предоставления к ней доступа.

